
# accumulatedRain = 0
# accumulatedSnow = 0

# [data[i-1][2] - data[i][2] for i in range(1,len(data)) if data[i][3]=="cool"]
# [data[i-1][2]/data[i][2] for i in range(1,len(data)) if data[i][3]=="cool"]

# data2 = [[i[0], i[1]-600, i[2]-10, i[3]] for i in data]
# [data2[i-1][2] - data2[i][2] for i in range(1,len(data2)) if data2[i][3]=="cool"]
# [data2[i-1][2]/data2[i][2] for i in range(1,len(data2)) if data2[i][3]=="cool"]

# heavy rain: 0.8 inches
# light rain: 0.2 inches
# heavy snow: 8 inches
# light snow: 2 inches
# every day: subtract 10% of accumulated rainfall, then add rain
# each day subtract 3% of accumulated snowfall (vcold|cold|cool & !rain)
# 
# v.hot:    -10% rain, (-5" snow, +0.5" rain)
# hot:      -10% rain, (-5" snow, +0.5" rain)
# warm:     -10% rain, (-5" snow, +0.5" rain)
# cool:     -10% rain, -3% snow
# cold:     -10% rain, -3% snow
# v.cold:   -10% rain, -3% snow
# rainy:    -10% rain, -3% snow, +0.2" rain
# v.rainy:  -10% rain, (-5" snow, +0.5" rain), +0.8" rain
# snowy:    -10% rain, +2" snow
# v.snowy:  -10% rain, +8" snow
# 

def update_accumulated(temp, accumulated):
    acc = dict(accumulated)
    acc["rain"] -= 0.1 * acc["rain"]
    if temp in ["very hot", "hot", "warm", "very rainy"]:
        if acc["snow"]>=1:
            acc["rain"] += 0.5
        acc["snow"] = max(acc["snow"]-5, 0)
        # if acc["snow"] >= 5:
        #     acc["rain"] += 0.5
        #     acc["snow"] -= 5
        # else:
        #     acc["rain"] += 0.1 * acc["snow"]
        #     acc["snow"] = 0
    if temp in ["cool", "cold", "very cold", "rainy"]:
        acc["snow"] -= 0.03 * acc["snow"]
    if temp == "rainy":
        acc["rain"] += 0.2
    if temp == "very rainy":
        acc["rain"] += 0.8
    if temp == "snowy":
        acc["snow"] += 2
    if temp == "very snowy":
        acc["snow"] += 8
    return acc

data3 = [
    {
        "date": i[0],
        "width": i[1],
        "depth": i[2],
        "temp": i[3]
    }
    for i in data
]

data3[0]["accumulated"] = {"rain": 0, "snow": 0}
data3[0]["river"] = {"width": 0, "depth": 0}

for i in range(1,len(data3)):
    data3[i]["accumulated"] = update_accumulated(data3[i]["temp"], data3[i-1]["accumulated"])

data4 = [
    {
        "date": i["date"],
        "width": i["width"] - 600,
        "depth": i["depth"] - 10,
        "temp": i["temp"],
        "accumulated": dict(i["accumulated"])
    }
    for i in data3
]

with open("riverdata.txt","w") as f:
    for i in data4:
        f.write(f"t{i['date']}\t{i['width']}\t{i['depth']}\t{i['accumulated']['rain']}\t{i['accumulated']['snow']}\t{i['temp']}\n")


# [i["width"] / i["accumulated"]["rain"] for i in data4 if i["accumulated"]["rain"]>0]

# ---------- Findings/Hypotheses --------
#
# depth = 
#
# -----------------------


data = [
    ["03-08", 628, 49, "cool"],
    ["03-09", 626, 45, "cool"],
    ["03-10", 623, 41, "cool"],
    ["03-11", 628, 48, "warm"],
    ["03-12", 625, 44, "warm"],
    ["03-13", 623, 41, "cool"],
    ["03-14", 620, 38, "cold"],
    ["03-15", 618, 35, "cold"],
    ["03-16", 616, 33, "cool"],
    ["03-17", 615, 30, "cool"],
    ["03-18", 625, 44, "very rainy"],
    ["03-19", 623, 41, "cool"],
    ["03-20", 620, 38, "cool"],
    ["03-21", 618, 35, "warm"],
    ["03-22", 616, 32, "warm"],
    ["03-23", 615, 30, "cool"],
    ["03-24", 613, 28, "cool"],
    ["03-25", 612, 26, "cool"],
    ["03-26", 611, 25, "cool"],
    ["03-27", 609, 23, "cool"],
    ["03-28", 608, 22, "very snowy"],
    ["03-29", 611, 25, "rainy"],
    ["03-30", 612, 27, "rainy"],
    ["03-31", 611, 26, "cool"],
    ["04-01", 610, 24, "cool"],
    ["04-02", 609, 23, "cool"],
    ["04-03", 615, 31, "hot"],
    ["04-04", 621, 39, "hot"],
    ["04-05", 619, 36, "warm"],
    ["04-06", 617, 34, "warm"],
    ["04-07", 615, 31, "cool"],
    ["04-08", 614, 29, "cool"],
    ["04-09", 612, 27, "warm"],
    ["04-10", 611, 26, "warm"],
    ["04-11", 610, 24, "hot"],
    ["04-12", 609, 23, "hot"],
    ["04-13", 608, 21, "hot"],
    ["04-14", 607, 20, "hot"],
    ["04-15", 606, 19, "cool"],
    ["04-16", 606, 18, "cool"],
    ["04-17", 605, 17, "cool"],
    ["04-18", 605, 17, "warm"],
    ["04-19", 604, 16, "hot"],
    ["04-20", 604, 15, "warm"],
    ["04-21", 603, 15, "hot"],
    ["04-22", 603, 14, "hot"],
    ["04-23", 602, 14, "hot"],
    ["04-24", 602, 14, "warm"],
    ["04-25", 602, 13, "cool"],
    ["04-26", 602, 13, "cool"],
    ["04-27", 601, 13, "cool"],
    ["04-28", 601, 12, "cool"],
    ["04-29", 601, 12, "cool"],
    ["04-30", 604, 16, "rainy"],
    ["05-01", 606, 19, "rainy"],
    ["05-02", 618, 34, "very rainy"],
    ["05-03", 619, 36, "rainy"],
    ["05-04", 617, 33, "warm"],
    ["05-05", 615, 31, "warm"],
    ["05-06", 614, 29, "cool"],
    ["05-07", 612, 27, "warm"],
    ["05-08", 611, 25, "warm"],
    ["05-09", 610, 24, "warm"],
    ["05-10", 609, 22, "warm"],
    ["05-11", 611, 25, "rainy"],
    ["05-12", 613, 28, "rainy"],
    ["05-13", 614, 30, "rainy"],
    ["05-14", 613, 28, "hot"],
    ["05-15", 612, 26, "hot"],
    ["05-16", 610, 24, "hot"],
    ["05-17", 609, 23, "hot"],
    ["05-18", 608, 22, "hot"],
    ["05-19", 607, 21, "warm"],
    ["05-20", 607, 20, "warm"],
    ["05-21", 606, 19, "warm"],
    ["05-22", 605, 18, "warm"],
    ["05-23", 605, 17, "warm"],
    ["05-24", 604, 16, "warm"],
    ["05-25", 604, 16, "hot"],
    ["05-26", 606, 19, "rainy"],
    ["05-27", 606, 18, "warm"],
    ["05-28", 605, 17, "warm"],
    ["05-29", 604, 17, "warm"],
    ["05-30", 604, 16, "warm"],
    ["05-31", 604, 15, "warm"],
    ["06-01", 603, 15, "warm"],
    ["06-02", 603, 14, "warm"],
    ["06-03", 602, 14, "warm"],
    ["06-04", 602, 14, "hot"],
    ["06-05", 602, 13, "hot"],
    ["06-06", 605, 17, "rainy"],
    ["06-07", 607, 20, "rainy"],
    ["06-08", 606, 19, "hot"],
    ["06-09", 606, 18, "hot"],
    ["06-10", 605, 17, "warm"],
    ["06-11", 604, 17, "hot"],
    ["06-12", 607, 20, "rainy"],
    ["06-13", 606, 19, "hot"],
    ["06-14", 609, 22, "rainy"],
    ["06-15", 608, 21, "hot"],
    ["06-16", 607, 20, "hot"],
    ["06-17", 606, 19, "hot"],
    ["06-18", 605, 18, "hot"],
    ["06-19", 605, 17, "very hot"],
    ["06-20", 604, 16, "warm"],
    ["06-21", 604, 16, "hot"],
    ["06-22", 603, 15, "warm"],
    ["06-23", 603, 15, "hot"],
    ["06-24", 603, 14, "very hot"],
    ["06-25", 602, 14, "very hot"],
    ["06-26", 602, 13, "warm"],
    ["06-27", 602, 13, "warm"],
    ["06-28", 602, 13, "warm"],
    ["06-29", 601, 12, "hot"],
    ["06-30", 601, 12, "hot"],
    ["07-01", 601, 12, "warm"],
    ["07-02", 601, 12, "warm"],
    ["07-03", 601, 12, "warm"],
    ["07-04", 601, 11, "warm"],
    ["07-05", 600, 11, "warm"],
    ["07-06", 600, 11, "warm"],
    ["07-07", 600, 11, "hot"],
    ["07-08", 600, 11, "hot"],
    ["07-09", 600, 11, "hot"],
    ["07-10", 600, 11, "hot"],
    ["07-11", 600, 11, "hot"],
    ["07-12", 600, 11, "very hot"],
    ["07-13", 600, 11, "very hot"],
    ["07-14", 600, 11, "very hot"],
    ["07-15", 600, 10, "warm"],
    ["07-16", 600, 10, "very hot"],
    ["07-17", 600, 10, "very hot"],
    ["07-18", 600, 10, "hot"],
    ["07-19", 600, 10, "hot"],
    ["07-20", 600, 10, "hot"],
    ["07-21", 600, 10, "hot"],
    ["07-22", 600, 10, "hot" ],
    ["07-23", 600, 10, "hot"],
    ["07-24", 600, 10, "hot"],
    ["07-25", 600, 10, "hot"],
    ["07-26", 600, 10, "hot"],
    ["07-27", 600, 10, "hot"],
    ["07-28", 600, 10, "hot"],
    ["07-29", 600, 10, "hot"],
    ["07-30", 600, 10, "very hot"],
    ["07-31", 600, 10, "very hot"],
    ["08-01", 600, 10, "hot"],
    ["08-02", 600, 10, "hot"],
    ["08-03", 600, 10, "hot"],
    ["08-04", 600, 10, "hot"],
    ["08-05", 600, 10, "hot"],
    ["08-06", 600, 10, "hot"],
    ["08-07", 600, 10, "hot"],
    ["08-08", 600, 10, "hot"], 
    ####
    ["08-09", 600, 10, "hot"],
    ["08-10", 603, 14, "rainy"],
    ["08-11", 614, 30, "very rainy"],
    ["08-12", 613, 28, "warm"],
    ["08-13", 611, 26, "hot"],
    ["08-14", 610, 24, "hot"],
    ["08-15", 609, 23, "hot"],
    ["08-16", 608, 22, "hot"],
    ["08-17", 607, 20, "warm"],
    ["08-18", 607, 19, "warm"],
    ["08-19", 606, 18, "warm"],
    ["08-20", 605, 18, "warm"],
    ["08-21", 605, 17, "very hot"],
    ["08-22", 604, 16, "very hot"],
    ["08-23", 604, 16, "hot"],
    ["08-24", 603, 15, "warm"],
    ["08-25", 603, 14, "warm"],
    ["08-26", 603, 14, "very hot"],
    ["08-27", 602, 14, "very hot"],
    ["08-28", 602, 13, "very hot"],
    ["08-29", 602, 13, "very hot"],
    ["08-30", 601, 13, "very hot"],
    ["08-31", 601, 12, "hot"],
    ["09-01", 601, 12, "hot"],
    ["09-02", 601, 12, "warm"],
    ["09-03", 601, 12, "warm"],
    ["09-04", 601, 12, "warm"],
    ["09-05", 601, 11, "hot"],
    ["09-06", 600, 11, "hot"],
    ["09-07", 600, 11, "hot"],
    ["09-08", 600, 11, "hot"],
    ["09-09", 600, 11, "hot"],
    ["09-10", 612, 27, "very rainy"],
    ["09-11", 614, 29, "rainy"],
    ["09-12", 615, 31, "rainy"],
    ["09-13", 626, 45, "very rainy"],
    ["09-14", 623, 42, "warm"],
    ["09-15", 621, 38, "warm"],
    ["09-16", 619, 36, "warm"],
    ["09-17", 617, 33, "hot"],
    ["09-18", 615, 31, "hot"],
    ["09-19", 613, 29, "hot"],
    ["09-20", 612, 27, "hot"],
    ["09-21", 611, 25, "hot"],
    ["09-22", 610, 24, "warm"],
    ["09-23", 609, 22, "warm"],
    ["09-24", 620, 37, "very rainy"],
    ["09-25", 618, 34, "warm"],
    ["09-26", 616, 32, "warm"],
    ["09-27", 614, 30, "warm"],
    ["09-28", 613, 28, "warm"],
    ["09-29", 611, 26, "warm"],
    ["09-30", 610, 24, "warm"],
    ["10-01", 609, 23, "warm"],
    ["10-02", 608, 22, "warm"],
    ["10-03", 607, 20, "warm"],
    ["10-04", 610, 23, "rainy"],
    ["10-05", 609, 22, "cool"],
    ["10-06", 608, 21, "cool"],
    ["10-07", 607, 20, "cool"],
    ["10-08", 606, 19, "hot"],
    ["10-09", 605, 18, "warm"],
    ["10-10", 605, 17, "warm"],
    ["10-11", 604, 16, "hot"],
    ["10-12", 604, 16, "hot"],
    ["10-13", 603, 15, "hot"],
    ["10-14", 603, 15, "hot"],
    ["10-15", 603, 14, "warm"],
    ["10-16", 602, 14, "warm"],
    ["10-17", 602, 13, "warm"],
    ["10-18", 602, 13, "hot"],
    ["10-19", 602, 13, "hot"],
    ["10-20", 601, 12, "warm"],
    ["10-21", 601, 12, "cool"],
    ["10-22", 601, 12, "cool"],
    ["10-23", 601, 12, "cool"],
    ["10-24", 601, 12, "hot"],
    ["10-25", 601, 11, "hot"],
    ["10-26", 600, 11, "hot"],
    ["10-27", 600, 11, "hot"],
    ["10-28", 600, 11, "warm"],
    ["10-29", 600, 11, "warm"],
    ["10-30", 600, 11, "warm"],
    ["10-31", 612, 27, "very rainy"],
    ["11-01", 611, 25, "warm"],
    ["11-02", 610, 24, "warm"],
    ["11-03", 609, 22, "warm"],
    ["11-04", 608, 21, "cool"],
    ["11-05", 607, 20, "cool"],
    ["11-06", 606, 19, "warm"],
    ["11-07", 606, 18, "warm"],
    ["11-08", 605, 17, "warm"],
    ["11-09", 604, 17, "warm"],
    ["11-10", 604, 16, "warm"],
    ["11-11", 603, 15, "warm"],
    ["11-12", 603, 15, "warm"],
    ["11-13", 603, 14, "cool"],
    ["11-14", 602, 14, "warm"],
    ["11-15", 602, 13, "warm"],
    ["11-16", 602, 13, "warm"],
    ["11-17", 602, 13, "warm"],
    ["11-18", 601, 13, "warm"],
    ["11-19", 601, 12, "warm"],
    ["11-20", 601, 12, "warm"],
    ["11-21", 601, 12, "cool"],
    ["11-22", 601, 12, "cool"],
    ["11-23", 601, 11, "cool"],
    ["11-24", 601, 11, "cool"],
    ["11-25", 600, 11, "cool"],
    ["11-26", 600, 11, "cool"],
    ["11-27", 600, 11, "snowy"],
    ["11-28", 608, 21, "warm"],
    ["11-29", 607, 20, "warm"],
    ["11-30", 606, 19, "cool"],
    ["12-01", 605, 18, "cool"],
    ["12-02", 605, 17, "warm"],
    ["12-03", 604, 16, "cool"],
    ["12-04", 604, 16, "cool"],
    ["12-05", 603, 15, "cool"],
    ["12-06", 603, 15, "cool"],
    ["12-07", 603, 14, "cool"],
    ["12-08", 602, 14, "cool"],
    ["12-09", 602, 13, "cool"],
    ["12-10", 602, 13, "cool"],
    ["12-11", 602, 13, "cold"],
    ["12-12", 601, 12, "cool"],
    ["12-13", 601, 12, "cool"],
    ["12-14", 601, 12, "cold"],
    ["12-15", 601, 12, "cool"],
    ["12-16", 601, 12, "cold"],
    ["12-17", 601, 11, "cold"],
    ["12-18", 600, 11, "cold"],
    ["12-19", 600, 11, "cold"],
    ["12-20", 600, 11, "cool"],
    ["12-21", 600, 11, "cold"],
    ["12-22", 600, 11, "cold"],
    ["12-23", 600, 11, "cold"],
    ["12-24", 600, 11, "cold"],
    ["12-25", 600, 11, "cold"],
    ["12-26", 600, 11, "cold"],
    ["12-27", 600, 11, "cold"],
    ["12-28", 600, 10, "cold"],
    ["12-29", 600, 10, "cold"],
    ["12-30", 600, 10, "cold"],
    ["12-31", 600, 10, "cold"],
    ["01-01", 600, 10, "cool"],
    ["01-02", 600, 10, "cool"],
    ["01-03", 600, 10, "cool"],
    ["01-04", 600, 10, "cool"],
    ["01-05", 600, 10, "cool"],
    ["01-06", 600, 10, "cool"],
    ["01-07", 600, 10, "cold"],
    ["01-08", 600, 10, "cool"],
    ["01-09", 600, 10, "cool"],
    ["01-10", 600, 10, "cool"],
    ["01-11", 600, 10, "cool"],
    ["01-12", 600, 10, "cool"],
    ["01-13", 600, 10, "cool"],
    ["01-14", 600, 10, "cool"],
    ["01-15", 600, 10, "cool"],
    ["01-16", 600, 10, "cold"],
    ["01-16", 600, 10, "cool"],
    ["01-16", 600, 10, "cool"],
    ["01-16", 600, 10, "cool"],
    ["01-16", 600, 10, "cool"],
    ["01-16", 600, 10, "cool"],
    ["01-16", 600, 10, "cool"],
    ["01-16", 600, 10, "cool"],
    ["01-16", 600, 10, "cool"],
    ["01-16", 600, 10, "cool"],
    ["01-16", 600, 10, "cold"],
    ["01-16", 600, 10, "cold"],
    ["01-16", 600, 10, "cold"],
    ["01-16", 600, 10, "cold"],
    ["01-16", 600, 10, "cold"],
    ["01-16", 600, 10, "cold"],
    ["01-16", 603, 14, "rainy"],
    ["02-02", 602, 14, "cold"],
    ["02-03", 602, 13, "cool"],
    ["02-04", 602, 13, "cool"],
    ["02-05", 601, 13, "cool"],
    ["02-06", 601, 12, "cool"],
    ["02-07", 601, 12, "cool"],
    ["02-08", 601, 12, "snowy"],
    ["02-09", 601, 12, "snowy"],
    ["02-10", 601, 12, "snowy"],
    ["02-11", 601, 11, "cool"],
    ["02-12", 600, 11, "cool"],
    ["02-13", 608, 21, "warm"],
    ["02-14", 607, 20, "warm"],
    ["02-15", 606, 19, "warm"],
    ["02-16", 606, 18, "warm"],
    ["02-17", 605, 17, "cold"],
    ["02-18", 604, 17, "cool"],
    ["02-19", 604, 16, "warm"],
    ["02-20", 603, 15, "cool"],
    ["02-21", 603, 15, "cold"],
    ["02-22", 603, 14, "cool"],
    ["02-23", 602, 14, "cold"],
    ["02-24", 602, 13, "cold"],
    ["02-25", 602, 13, "cold"],
    ["02-26", 602, 13, "warm"],
    ["02-27", 601, 13, "cool"],
    ["02-28", 601, 12, "cool"]
]
